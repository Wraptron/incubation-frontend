module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},20731,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(78560),g=a.i(55857),h=a.i(40695),i=a.i(54161),j=a.i(3130),k=a.i(88237);function l(){let a=(0,d.useRouter)(),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)("all"),t=async()=>{try{let a=process.env.NEXT_PUBLIC_API_URL||"http://65.1.107.13:5000",b="all"!==r?`?status=${r}`:"",c=await fetch(`${a}/api/applications${b}`);if(c.ok){let a=await c.json();console.log("Fetched applications:",a),o(a.applications||[])}else{let a=await c.json().catch(()=>({}));console.error("Error fetching applications:",c.status,a)}}catch(a){console.error("Error fetching applications:",a)}};(0,c.useEffect)(()=>{u()},[]),(0,c.useEffect)(()=>{l&&t()},[r,l]);let u=async()=>{try{let{data:{user:b}}=await f.supabase.auth.getUser();if(!b)return void a.push("/login");let{data:c}=await f.supabase.from("user_profiles").select("role").eq("id",b.id).single();if(!c||"manager"!==c.role&&"reviewer"!==c.role)return void a.push("/login");m({...b,role:c.role}),t()}catch(b){console.error("Error checking user:",b),a.push("/login")}finally{q(!1)}};return p?null:(0,b.jsx)(g.default,{children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4 text-black dark:text-zinc-50",children:"Startup Applications"}),(0,b.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,b.jsx)(h.Button,{onClick:()=>s("all"),variant:"ghost",size:"sm",className:`rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${"all"===r?"bg-gray-200 dark:bg-gray-800 text-black dark:text-white hover:bg-gray-300 dark:hover:bg-gray-700":"text-zinc-600 dark:text-zinc-400 hover:bg-gray-100 dark:hover:bg-gray-900 hover:text-black dark:hover:text-white"}`,children:"All"}),(0,b.jsx)(h.Button,{onClick:()=>s("pending"),variant:"ghost",size:"sm",className:`rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${"pending"===r?"bg-gray-200 dark:bg-gray-800 text-black dark:text-white hover:bg-gray-300 dark:hover:bg-gray-700":"text-zinc-600 dark:text-zinc-400 hover:bg-gray-100 dark:hover:bg-gray-900 hover:text-black dark:hover:text-white"}`,children:"Pending"}),(0,b.jsx)(h.Button,{onClick:()=>s("under_review"),variant:"ghost",size:"sm",className:`rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${"under_review"===r?"bg-gray-200 dark:bg-gray-800 text-black dark:text-white hover:bg-gray-300 dark:hover:bg-gray-700":"text-zinc-600 dark:text-zinc-400 hover:bg-gray-100 dark:hover:bg-gray-900 hover:text-black dark:hover:text-white"}`,children:"Under Review"}),(0,b.jsx)(h.Button,{onClick:()=>s("approved"),variant:"ghost",size:"sm",className:`rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${"approved"===r?"bg-gray-200 dark:bg-gray-800 text-black dark:text-white hover:bg-gray-300 dark:hover:bg-gray-700":"text-zinc-600 dark:text-zinc-400 hover:bg-gray-100 dark:hover:bg-gray-900 hover:text-black dark:hover:text-white"}`,children:"Approved"}),(0,b.jsx)(h.Button,{onClick:()=>s("rejected"),variant:"ghost",size:"sm",className:`rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${"rejected"===r?"bg-gray-200 dark:bg-gray-800 text-black dark:text-white hover:bg-gray-300 dark:hover:bg-gray-700":"text-zinc-600 dark:text-zinc-400 hover:bg-gray-100 dark:hover:bg-gray-900 hover:text-black dark:hover:text-white"}`,children:"Rejected"})]})]}),(0,b.jsx)(j.Card,{className:"border-0 shadow-none",children:0===n.length?(0,b.jsx)(j.CardContent,{className:"p-8 text-center text-zinc-600 dark:text-zinc-400",children:"No applications found."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(k.Table,{children:[(0,b.jsx)(k.TableHeader,{children:(0,b.jsxs)(k.TableRow,{children:[(0,b.jsx)(k.TableHead,{children:"Company"}),(0,b.jsx)(k.TableHead,{children:"Founder"}),(0,b.jsx)(k.TableHead,{children:"Email"}),(0,b.jsx)(k.TableHead,{children:"Status"}),(0,b.jsx)(k.TableHead,{children:"Reviewer"}),(0,b.jsx)(k.TableHead,{children:"Submitted"}),(0,b.jsx)(k.TableHead,{children:"Actions"})]})}),(0,b.jsx)(k.TableBody,{children:n.map(c=>(0,b.jsxs)(k.TableRow,{onClick:()=>a.push(`/dashboard/applications/${c.id}`),className:"cursor-pointer",children:[(0,b.jsx)(k.TableCell,{className:"font-medium",children:c.company_name}),(0,b.jsx)(k.TableCell,{children:c.founder_name}),(0,b.jsx)(k.TableCell,{children:c.email}),(0,b.jsx)(k.TableCell,{children:(0,b.jsx)(i.Badge,{className:{pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200 border-yellow-200 dark:border-yellow-800",under_review:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-200 border-blue-200 dark:border-blue-800",approved:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200 border-green-200 dark:border-green-800",rejected:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200 border-red-200 dark:border-red-800",withdrawn:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-200 border-gray-200 dark:border-gray-800"}[c.status]||"bg-gray-100 text-gray-800 border-gray-200 dark:border-gray-800",children:c.status.replace("_"," ")})}),(0,b.jsx)(k.TableCell,{children:c.reviewers&&c.reviewers.length>0?(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[c.reviewers.slice(0,2).map(a=>(0,b.jsx)(i.Badge,{variant:"secondary",className:"text-xs",children:a.full_name||"Unknown"},a.id)),c.reviewers.length>2&&(0,b.jsxs)("span",{className:"text-xs text-zinc-500",children:["+",c.reviewers.length-2," more"]})]}):c.reviewer?.full_name?c.reviewer.full_name:(0,b.jsx)("span",{className:"text-zinc-400 dark:text-zinc-600",children:"Not assigned"})}),(0,b.jsx)(k.TableCell,{children:new Date(c.created_at).toLocaleDateString()}),(0,b.jsx)(k.TableCell,{children:(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,b.jsx)(h.Button,{variant:"link",asChild:!0,onClick:a=>a.stopPropagation(),children:(0,b.jsx)(e.default,{href:`/dashboard/applications/${c.id}`,children:"View â†’"})}),l?.role==="reviewer"&&("pending"===c.status||"under_review"===c.status)&&(c.reviewers?.some(a=>a.id===l.id)||c.reviewer_id===l.id)&&(0,b.jsx)(h.Button,{variant:"default",size:"sm",className:"bg-black text-white hover:bg-black/90 dark:bg-black dark:text-white dark:hover:bg-black/90",onClick:b=>{b.stopPropagation(),a.push(`/dashboard/applications/${c.id}/evaluate`)},children:"Evaluate"})]})})]},c.id))})]})})})]})})}a.s(["default",()=>l])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__0f074206._.js.map