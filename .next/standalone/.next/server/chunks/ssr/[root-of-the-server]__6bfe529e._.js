module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},46893,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},65602,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(187),e=a.i(97895);let f=(0,d.cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),g=c.forwardRef(({className:a,variant:c,...d},g)=>(0,b.jsx)("div",{ref:g,role:"alert",className:(0,e.cn)(f({variant:c}),a),...d}));g.displayName="Alert",c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("h5",{ref:d,className:(0,e.cn)("mb-1 font-medium leading-none tracking-tight",a),...c})).displayName="AlertTitle";let h=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,e.cn)("text-sm [&_p]:leading-relaxed",a),...c}));h.displayName="AlertDescription",a.s(["Alert",()=>g,"AlertDescription",()=>h])},3130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},55857,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(78560),f=a.i(38246),g=a.i(40695);function h({userRole:a}){let[e,h]=(0,c.useState)(!1),i=(0,d.usePathname)();(0,c.useEffect)(()=>{let a=localStorage.getItem("sidebarMinimized");null!==a&&(h("true"===a),j("true"===a))},[]);let j=a=>{let b=document.querySelector(".sidebar-content");b&&(b.style.marginLeft=a?"4rem":"16rem")},k=[{name:"Cohorts",href:"/dashboard/cohorts",icon:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},{name:"Applications",href:"/dashboard",icon:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"Users",href:"/dashboard/users",icon:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),roles:["manager"]}].filter(b=>!b.roles||b.roles.includes(a));return(0,b.jsxs)("aside",{className:`bg-white dark:bg-zinc-900 border-r border-zinc-200 dark:border-zinc-800 transition-all duration-300 ${e?"w-16":"w-64"} flex flex-col h-screen fixed left-0 top-0 z-50`,style:{width:e?"4rem":"16rem"},children:[(0,b.jsxs)("div",{className:"h-16 border-b border-zinc-200 dark:border-zinc-800 flex items-center justify-between px-4",children:[!e&&(0,b.jsx)("h2",{className:"text-lg font-bold text-black dark:text-zinc-50",children:"Dashboard"}),(0,b.jsx)(g.Button,{onClick:()=>{let a=!e;h(a),localStorage.setItem("sidebarMinimized",String(a)),j(a),window.dispatchEvent(new Event("sidebarToggle"))},variant:"ghost",size:"icon","aria-label":e?"Expand sidebar":"Minimize sidebar",children:e?(0,b.jsx)("svg",{className:"w-5 h-5 text-zinc-600 dark:text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}):(0,b.jsx)("svg",{className:"w-5 h-5 text-zinc-600 dark:text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),(0,b.jsx)("nav",{className:"flex-1 overflow-y-auto p-4",children:(0,b.jsx)("ul",{className:"space-y-2",children:k.map(a=>{var c;let d="/dashboard"===(c=a.href)?"/dashboard"===i:i?.startsWith(c);return(0,b.jsx)("li",{children:(0,b.jsxs)(f.default,{href:a.href,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${d?"bg-black dark:bg-zinc-50 text-white dark:text-black":"text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800"}`,title:e?a.name:void 0,children:[(0,b.jsx)("span",{className:"flex-shrink-0",children:a.icon}),!e&&(0,b.jsx)("span",{className:"font-medium",children:a.name})]})},a.name)})})}),(0,b.jsx)("div",{className:"border-t border-zinc-200 dark:border-zinc-800 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-zinc-200 dark:bg-zinc-700 flex items-center justify-center flex-shrink-0",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-zinc-600 dark:text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),!e&&(0,b.jsx)("div",{className:"flex-1 min-w-0",children:(0,b.jsx)("p",{className:"text-sm font-medium text-black dark:text-zinc-50 truncate",children:"manager"===a?"Manager":"Reviewer"})})]})})]})}function i({children:a}){let f=(0,d.useRouter)(),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(!1);(0,c.useEffect)(()=>{o();let a=localStorage.getItem("sidebarMinimized");null!==a&&n("true"===a);let b=()=>{let a=localStorage.getItem("sidebarMinimized");null!==a&&n("true"===a)};return window.addEventListener("storage",b),window.addEventListener("sidebarToggle",b),()=>{window.removeEventListener("storage",b),window.removeEventListener("sidebarToggle",b)}},[]);let o=async()=>{try{let{data:{user:a}}=await e.supabase.auth.getUser();if(!a)return void f.push("/login");let{data:b}=await e.supabase.from("user_profiles").select("role").eq("id",a.id).single();if(!b||"manager"!==b.role&&"reviewer"!==b.role)return void f.push("/login");j({...a,role:b.role})}catch(a){console.error("Error checking user:",a),f.push("/login")}finally{l(!1)}},p=async()=>{await e.supabase.auth.signOut(),f.push("/login")};return k?(0,b.jsx)("div",{className:"min-h-screen bg-zinc-50 dark:bg-black flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-zinc-600 dark:text-zinc-400",children:"Loading..."})}):i?(0,b.jsxs)("div",{className:"min-h-screen bg-zinc-50 dark:bg-black flex",children:[(0,b.jsx)(h,{userRole:i.role}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col ml-64 transition-all duration-300 sidebar-content",children:[(0,b.jsxs)("nav",{className:"bg-white dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800 h-16 flex items-center justify-between px-6",children:[(0,b.jsx)("div",{className:"flex-1"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:[i.email," (",i.role,")"]}),(0,b.jsx)(g.Button,{onClick:p,variant:"outline",size:"sm",children:"Logout"})]})]}),(0,b.jsx)("main",{className:"flex-1 overflow-y-auto",children:a})]})]}):null}a.s(["default",()=>i],55857)},54161,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(97895);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 dark:focus:ring-zinc-300",{variants:{variant:{default:"border-transparent bg-zinc-900 text-zinc-50 hover:bg-zinc-900/80 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/80",secondary:"border-transparent bg-zinc-100 text-zinc-900 hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",destructive:"border-transparent bg-red-500 text-zinc-50 hover:bg-red-500/80 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/80",outline:"text-zinc-950 dark:text-zinc-50"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__6bfe529e._.js.map